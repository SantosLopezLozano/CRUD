<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="style/stylelogin.css">
    <link rel="shortcut icon" href="images/favicon.ico" type="images/favicon.ico">
    <style>
        .gris {color: #666;}
    </style>
    <script defer>
        function validarFormulario() {
            var correo=document.getElementById('email').value;
            var contrasena=document.getElementById('pass').value;
            var confirmacion= document.getElementById('acepto');

            if ( ! (/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/.test(correo))||correo.length==0) {
                marcarError('email');
                return false;
            }
            
            if ( ! (/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{6,10}$/.test(contrasena))||contrasena.length==0) {
                marcarError('pass');
                return false;
            }
            
            if( !(confirmacion.checked) ) {
                marcarCheckError('acepto');
                return false;
            }
            
            return true;
        }
        
        function marcarError(elemento){
            document.getElementById(elemento).style.borderColor="red";
            document.getElementById(elemento+"Help").style.color="red";
        }
        
        function marcarCheckError(elemento){
            document.getElementById(elemento+"Label").style.color="red";
        }
        
        function desmarcarError(elemento){
            document.getElementById(elemento).style.borderColor="#ced4da";
            document.getElementById(elemento+"Help").style.color="#666";
        }
    </script>
</head>
</head>
<body id="bodylog">
    <section class="container">
        <form action="form.html" id="formulario" class="col-md-6 col-sm-10 col-11 border border-primary p-5 mx-auto">
            <div class="form-group">
                <label for="email">Introduce tu correo electrónico:</label>
                <input type="text" class="form-control" 
                       id="email" name="email"
                       aria-describedby="emailHelp"
                       onfocus="desmarcarError('email')">
                <small id="emailHelp" class="form-text">Obligatorio, correo válido</small>
              </div>
              <div class="form-group">
                <label for="pass">Introduce tu contraseña:</label>
                <input type="password" class="form-control" 
                       id="pass" name="pass"
                       aria-describedby="passHelp"
                       onfocus="desmarcarError('pass')">
                <small id="passHelp" class="form-text">Obligatorio, may, min, dígito y car. especiales, longitud entre 6 y 10</small>
              </div>
              
              <div class="form-group form-check">
                <input type="checkbox" class="form-check-input" 
                       id="acepto" name="acepto"
                       onfocus="desmarcarError('acepto')">
                <label class="form-check-label" for="acepto" id="aceptoLabel">Acepto las condiciones que no he leído</label>
              </div>
            <button onclick="return validarFormulario()" type="submit" class="btn btn-primary">Vender Datos</button>
        </form>
    </section>
</body>
</html>